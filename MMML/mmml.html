<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt" xml:lang="pt">
<head>
<!-- 2017-10-23 seg 15:46 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linguagem \(\mu\)mML</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Prof. Rodrigo Kassick" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript" src="./mmmlc.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Linguagem \(\mu\)mML</h1>

<script>
 doParse = function(text)
 {
     r = ccall('parse_string_c', 'string', ['string'], [text]);
     return r;
 };

 parseSource = function()
 {
     d_ta = document.getElementById('esource');
     d_res = document.getElementById('result');

     res = doParse(d_ta.value);

     d_res.value = res;
 };
</script>

<p>
<b>Código Fonte:</b>
</p>

<textarea name="source" id="esource" rows="10" cols="70">
def main =
let i = read_int _,
    s = str i,
    msg = "voce digitou: " :: s :: ['\n']
in
    print msg
</textarea>

<p>

<button type="button" onclick='parseSource()'>Parse</button>

<p>

<p>
<b>Resultado:</b>
</p>

<textarea id="result" rows="10" cols="70"></textarea>

<div id="outline-container-org1c412ec" class="outline-2">
<h2 id="org1c412ec">A Linguagem Micro Mini ML</h2>
<div class="outline-text-2" id="text-org1c412ec">
<p>
\(\mu\)mML é uma linguagem da família ML (F#, OCaML, Nemerle, dentre outras). Ela é uma linguagem funcional <i>pura</i> &#x2013; isto é, cada variável é atribuída uma única vez, não sendo permitidas alterações posteriores. Iterações devem ser feitas utilizando recursão.
</p>

<p>
A gramática da linguagem é fornecida juntamente com este documento. A gramática pode ser livremente alterada, desde que a linguagem reconhecida permaneça a mesma.
</p>

<p>
As próximas seções exemplificam os conceitos básicos da linguagem \(\mu\)mML.
</p>
</div>

<div id="outline-container-org6f08d8a" class="outline-3">
<h3 id="org6f08d8a">Exemplos Básicos</h3>
<div class="outline-text-3" id="text-org6f08d8a">
<p>
Exemplos podem ser encontrados na pasta <a href="./examples/">exemples</a> e <a href="./inputs/">inputs</a> .
</p>

<p>
Exemplos de entradas <b>com erro</b> podem ser encontradas em <a href="./errors">errors</a> .
</p>
</div>

<div id="outline-container-org5926f3a" class="outline-4">
<h4 id="org5926f3a">Hello World</h4>
<div class="outline-text-4" id="text-org5926f3a">
<div class="org-src-container">
<pre class="src src-sh">// Funcao Main inicia o programa
def <span style="color: #715ab1;">main</span> =
    <span style="color: #3a81c3;">print</span> <span style="color: #2d9574;">"Ola Mundo!"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd459d32" class="outline-4">
<h4 id="orgd459d32">Entrada/Saída</h4>
<div class="outline-text-4" id="text-orgd459d32">
<ul class="org-ul">
<li>Funções de leitura <code>read_string</code>, <code>read_int</code>, <code>read_char</code> e <code>read_float</code> não recebem parâmetros. Apenas funções especiais em \(\mu\)mML podem receber 0 parâmetros.</li>
<li>A função de saída <code>print</code> aceita como parâmetro qualquer tipo básico (bool, char, int, float), além do tipo especial <i>string</i>.</li>
<li>O operador <code>::</code> concatena sequências de mesmo tipo base.</li>
<li>O comando <code>let</code> declara símbolos que armazenam resultados de funções ou outras operações.</li>
<li>O símbolo especial <code>_</code> nunca é armazenado. No exemplo, o retorno da função print é descartado.</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> =                             // let declara simbolos:
<span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">_</span> = print <span style="color: #2d9574;">"Digite seu nome: "</span>,     // _ descarta o valor do retorno
    <span style="color: #715ab1;">name</span> = read_string _ ,             // guarda a string em <span style="color: #2d9574;">"nome"</span>
    <span style="color: #715ab1;">_</span> = print <span style="color: #2d9574;">"Digite sua idade: "</span>,    // descarta o retorno de print
    <span style="color: #715ab1;">idade</span> = read_int _                 // guarda o retorno em <span style="color: #2d9574;">"idade"</span>
<span style="color: #3a81c3; font-weight: bold;">in</span>                                     // Concatena as strings
    <span style="color: #3a81c3;">print</span> <span style="color: #2d9574;">"Ol&#225;, "</span> :: name :: <span style="color: #2d9574;">", voce tem "</span> :: <span style="color: #3a81c3;">(</span>str idade<span style="color: #3a81c3;">)</span> :: <span style="color: #2d9574;">" anos"</span> :: <span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'\n'</span><span style="color: #3a81c3;">]</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgef7f248" class="outline-4">
<h4 id="orgef7f248">Escopo</h4>
<div class="outline-text-4" id="text-orgef7f248">
<ul class="org-ul">
<li>Um comando <code>let</code> cria um novo <i>escopo</i> para símbolos. Símbolos podem ser redefinidos dentro de um novo escopo &#x2013; mas nunca no mesmo.</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> =
<span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">1</span>                   // <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">1</span>
<span style="color: #3a81c3; font-weight: bold;">in </span><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = x + <span style="color: #4e3163;">1</span>            // x<span style="color: #2d9574;">' = x + 1 = 2</span>
<span style="color: #2d9574;">   in let x = x + 1         // x'' = x'</span> + <span style="color: #4e3163;">1</span> = <span style="color: #4e3163;">2</span>
      <span style="color: #3a81c3; font-weight: bold;">in</span> x                  // retorna <span style="color: #4e3163;">3</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7e1aabc" class="outline-4">
<h4 id="org7e1aabc">Tipos</h4>
<div class="outline-text-4" id="text-org7e1aabc">
<p>
\(\mu\)mML é uma linguagem fortemente tipada, porém não há a necessidade de declarar o <i>tipo</i> dos símbolos explicitamente
</p>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> =
  <span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">1,</span>              // x tem tipo int
      <span style="color: #715ab1;">y</span> = <span style="color: #2d9574;">'c'</span>,            // y tem tipo char
      <span style="color: #715ab1;">z</span> = <span style="color: #4e3163;">1.4,</span>            // z tem tipo float
      <span style="color: #715ab1;">s</span> = <span style="color: #2d9574;">"abc"</span>,          // s tem tipo char<span style="color: #3a81c3;">[]</span>, sequencia
      <span style="color: #715ab1;">f1</span> = x + z,         // f1 tem tipo float
      <span style="color: #715ab1;">i1</span> = x + y,         // i1 tem tipo int
      <span style="color: #715ab1;">s2</span> = <span style="color: #3a81c3;">[</span>y<span style="color: #3a81c3;">]</span>,           // s2 tem tipo char<span style="color: #3a81c3;">[]</span>
      <span style="color: #715ab1;">s3</span> = <span style="color: #3a81c3;">[</span>s2<span style="color: #3a81c3;">]</span>,          // s3 tem tipo char<span style="color: #3a81c3;">[][]</span>
      <span style="color: #715ab1;">s4</span> = s2 :: s,       // s4 tem tipo char<span style="color: #3a81c3;">[]</span>
      <span style="color: #715ab1;">b0</span> = true &amp;&amp; <span style="color: #3a81c3;">false</span>, // b0 tem tipo bool
      <span style="color: #715ab1;">b1</span> = y || z,        // b1 tem tipo bool
      <span style="color: #715ab1;">b2</span> = s || s2,       // b2 tem tipo bool
      <span style="color: #715ab1;">f2</span> = float x,       // f2 tem tipo float
      <span style="color: #715ab1;">c1</span> = char z         // c1 tem tipo char
<span style="color: #3a81c3; font-weight: bold;">in</span>
  <span style="color: #3a81c3;">print</span> b1
</pre>
</div>

<p>
Tipos podem ser <i>coagidos</i> para um tipo "maior" em determinadas situações como a chamada <code>if</code> ou em chamadas de funções.
</p>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> =
<span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">a</span> = if true then <span style="color: #2d9574;">'a'</span> else <span style="color: #4e3163;">1,</span>        // tipo int
    <span style="color: #715ab1;">b</span> = if false then <span style="color: #4e3163;">1</span> else <span style="color: #4e3163;">1.2,</span>       // tipo float
    <span style="color: #715ab1;">c</span> = if true then true else <span style="color: #4e3163;">0,</span>       // tipo bool
    <span style="color: #715ab1;">d</span> = if false then nil else <span style="color: #2d9574;">"a"</span>,     // tipo char<span style="color: #3a81c3;">[]</span>
    <span style="color: #715ab1;">e</span> = char if false then <span style="color: #4e3163;">97</span> else <span style="color: #4e3163;">98</span>   // tipo char
<span style="color: #3a81c3; font-weight: bold;">in</span> <span style="color: #3a81c3;">{</span>a, b, c, d, e<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgccbfd5f" class="outline-4">
<h4 id="orgccbfd5f">Controle de Fluxo</h4>
<div class="outline-text-4" id="text-orgccbfd5f">
<p>
O controle de fluxo é feito com a declaração <code>if</code>. Porém, um <i>if</i> de \(\mu\)mML retorna o valor que resulta da sua avaliação.
</p>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> =
  <span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = read_int _
  <span style="color: #3a81c3; font-weight: bold;">in</span>
    <span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">y</span> = if <span style="color: #715ab1;">x</span> == <span style="color: #4e3163;">0</span>
            <span style="color: #3a81c3; font-weight: bold;">then</span> <span style="color: #4e3163;">10</span>
            <span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #4e3163;">11</span>
    <span style="color: #3a81c3; font-weight: bold;">in</span>
      <span style="color: #3a81c3;">print</span> y + <span style="color: #4e3163;">10</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> =
<span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">a</span> = if true then <span style="color: #2d9574;">'a'</span> else <span style="color: #4e3163;">1,</span>        // tipo int
    <span style="color: #715ab1;">b</span> = if false then <span style="color: #4e3163;">1</span> else <span style="color: #4e3163;">1.2,</span>       // tipo float
    <span style="color: #715ab1;">c</span> = if true then true else <span style="color: #4e3163;">0,</span>       // tipo bool
    <span style="color: #715ab1;">d</span> = if false then nil else <span style="color: #2d9574;">"a"</span>,     // tipo char<span style="color: #3a81c3;">[]</span>
    <span style="color: #715ab1;">e</span> = char if false then <span style="color: #4e3163;">97</span> else <span style="color: #4e3163;">98</span>   // tipo char
<span style="color: #3a81c3; font-weight: bold;">in</span> <span style="color: #3a81c3;">{</span>a, b, c, d, e<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org09ba6ee" class="outline-4">
<h4 id="org09ba6ee">Funções</h4>
<div class="outline-text-4" id="text-org09ba6ee">
<p>
Funções não precisam declarar seu tipo de retorno, pois ele é <b>deduzido</b> a partir da expressão da função
</p>

<div class="org-src-container">
<pre class="src src-sh">// ping_ retorna int
def ping_ cur : int, limit : <span style="color: #715ab1;">int</span> =
   <span style="color: #3a81c3; font-weight: bold;">if</span> cur &lt; limit
   <span style="color: #3a81c3; font-weight: bold;">then </span><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">_</span> = print <span style="color: #2d9574;">"Ping "</span> :: <span style="color: #3a81c3;">(</span>str cur<span style="color: #3a81c3;">)</span> :: <span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'\n'</span><span style="color: #3a81c3;">]</span>
        <span style="color: #3a81c3; font-weight: bold;">in</span>
          ping_ cur + <span style="color: #4e3163;">1</span> limit // Retorna o que ping_ retornar
   <span style="color: #3a81c3; font-weight: bold;">else</span>
     <span style="color: #3a81c3;">limit</span>                    // Retorna int

// ping retorna o que ping_ retornar <span style="color: #3a81c3;">(</span>int<span style="color: #3a81c3;">)</span>
def ping limit : <span style="color: #715ab1;">int</span> = ping_ <span style="color: #4e3163;">0</span> limit

def <span style="color: #715ab1;">main</span> =
<span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">limit</span> = read_int _
<span style="color: #3a81c3; font-weight: bold;">in</span>
  ping limit
</pre>
</div>

<p>
Quando necessário, pode-se declarar o tipo de uma função antes de sua implementação
</p>

<div class="org-src-container">
<pre class="src src-sh">def ping_ cur : int, limit : int -&gt; int
def pong_ cur : int, limit : int -&gt; int

def ping_ cur : int, limit : <span style="color: #715ab1;">int</span> =
<span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #715ab1;">cur</span> == limit
<span style="color: #3a81c3; font-weight: bold;">then </span><span style="color: #3a81c3;">limit</span>
<span style="color: #3a81c3; font-weight: bold;">else </span><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">_</span> = print <span style="color: #2d9574;">"Ping "</span> :: <span style="color: #3a81c3;">(</span>str cur<span style="color: #3a81c3;">)</span> :: <span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'\n'</span><span style="color: #3a81c3;">]</span>
     <span style="color: #3a81c3; font-weight: bold;">in</span> pong_ cur limit

def pong_ cur : int, limit : <span style="color: #715ab1;">int</span> =
<span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #715ab1;">cur</span> == limit
<span style="color: #3a81c3; font-weight: bold;">then </span><span style="color: #3a81c3;">limit</span>
<span style="color: #3a81c3; font-weight: bold;">else </span><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">_</span> = print <span style="color: #2d9574;">"Pong "</span> :: <span style="color: #3a81c3;">(</span>str cur<span style="color: #3a81c3;">)</span> :: <span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'\n'</span><span style="color: #3a81c3;">]</span>
     <span style="color: #3a81c3; font-weight: bold;">in</span> ping_ cur + <span style="color: #4e3163;">1</span> limit

def <span style="color: #715ab1;">main</span> = ping_ <span style="color: #4e3163;">0</span> <span style="color: #4e3163;">10</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf3b50ae" class="outline-4">
<h4 id="orgf3b50ae">Operando com Sequências</h4>
<div class="outline-text-4" id="text-orgf3b50ae">
<p>
A maneira principal de operar com sequências em \(\mu\)mML é através de recursão.
</p>

<div class="org-src-container">
<pre class="src src-sh">def str_capitalize_ s : char<span style="color: #3a81c3;">[]</span>,
                    <span style="color: #3a81c3;">r</span> : char<span style="color: #3a81c3;">[]</span> =
<span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #4e3163;">!</span> s                                               // Se vazia, retorna vazia
<span style="color: #3a81c3; font-weight: bold;">then </span><span style="color: #3a81c3;">r</span>
<span style="color: #3a81c3; font-weight: bold;">else </span><span style="color: #3a81c3;">let</span> // <span style="color: #715ab1;">_</span> = print <span style="color: #2d9574;">"s="</span> :: s :: <span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'\n'</span><span style="color: #3a81c3;">]</span>,           // Debug, descomentar
         // <span style="color: #715ab1;">_</span> = print <span style="color: #2d9574;">"r="</span> :: r :: <span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'\n'</span><span style="color: #3a81c3;">]</span>,           // Debug, descomentar
         h::<span style="color: #715ab1;">t</span> = s                                    // quebra em primeiro elemento e resto da lista
     <span style="color: #3a81c3; font-weight: bold;">in </span><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">up</span> = if h &gt;= <span style="color: #2d9574;">'a'</span> &amp;&amp; h &lt;= <span style="color: #2d9574;">'z'</span>
                 <span style="color: #3a81c3; font-weight: bold;">then</span> h - <span style="color: #3a81c3;">(</span><span style="color: #2d9574;">'a'</span> - <span style="color: #2d9574;">'A'</span><span style="color: #3a81c3;">)</span>
                 <span style="color: #3a81c3; font-weight: bold;">else</span> h
        <span style="color: #3a81c3; font-weight: bold;">in</span> str_capitalize_ t <span style="color: #3a81c3;">(</span><span style="color: #3a81c3;">r</span> :: <span style="color: #6c3163;">[</span>up<span style="color: #6c3163;">]</span><span style="color: #3a81c3;">)</span>

def str_capitalize s : char<span style="color: #3a81c3;">[]</span> = str_capitalize_ s <span style="color: #2d9574;">""</span>

def <span style="color: #715ab1;">main</span> =
<span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">sin</span> = read_string _
<span style="color: #3a81c3; font-weight: bold;">in</span>
  <span style="color: #3a81c3;">print</span> <span style="color: #3a81c3;">(</span>str_capitalize sin<span style="color: #3a81c3;">)</span>
</pre>
</div>

<p>
Tipos sequência possuem uma constante especial <code>nil</code> que representa uma sequência vazia de qualquer tipo.
</p>

<div class="org-src-container">
<pre class="src src-sh">def filtra_positivos_menores_que n : int,
                                 v : int<span style="color: #3a81c3;">[]</span>,
                                 result : int<span style="color: #3a81c3;">[]</span> =
<span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #4e3163;">!</span> v then result
<span style="color: #3a81c3; font-weight: bold;">else </span><span style="color: #3a81c3;">let</span> primeiro :: <span style="color: #715ab1;">resto</span> = v
     <span style="color: #3a81c3; font-weight: bold;">in</span>
        <span style="color: #3a81c3; font-weight: bold;">if</span> primeiro &lt; <span style="color: #4e3163;">0</span> || <span style="color: #4e3163;">!</span><span style="color: #3a81c3;">(</span>primeiro &lt; n<span style="color: #3a81c3;">)</span>
           <span style="color: #3a81c3; font-weight: bold;">then</span> filtra_positivos_menores_que n resto result
           <span style="color: #3a81c3; font-weight: bold;">else </span><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">result</span> = result :: <span style="color: #3a81c3;">[</span>primeiro<span style="color: #3a81c3;">]</span>
                <span style="color: #3a81c3; font-weight: bold;">in</span> filtra_positivos_menores_que n resto result

def <span style="color: #715ab1;">main</span> = filtra_positivos_menores_que <span style="color: #4e3163;">10</span> <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span>-2<span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">100</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">9</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">10</span><span style="color: #3a81c3;">]</span> nil
</pre>
</div>

<p>
Para facilitar o acesso a sequência, existem duas operações especiais (<i>funções genéricas</i>) nativas que operam em <b>qualquer</b> tipo sequência. <code>nth</code> retorna o n-ésimo item de uma sequência. <code>let_nth</code> cria uma nova sequência onde o n-ésimo elemento foi alterado.
</p>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> =
<span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">s1</span> = <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">2</span><span style="color: #3a81c3;">]</span>,
    <span style="color: #715ab1;">s2</span> = s1 :: <span style="color: #3a81c3;">[</span>int <span style="color: #2d9574;">'a'</span><span style="color: #3a81c3;">]</span>,
    <span style="color: #715ab1;">c1</span> = char <span style="color: #3a81c3;">(</span>nth s2 <span style="color: #4e3163;">2</span><span style="color: #3a81c3;">)</span>,
    <span style="color: #715ab1;">s3</span> = let_nth s1 <span style="color: #3a81c3;">(</span> <span style="color: #6c3163;">(</span>length s1<span style="color: #6c3163;">)</span> - <span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span> <span style="color: #2d9574;">'b'</span>
<span style="color: #3a81c3; font-weight: bold;">in</span> <span style="color: #3a81c3;">{</span>
     c1,
     s3
   <span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org12e7d9f" class="outline-3">
<h3 id="org12e7d9f">Tipos Básicos</h3>
<div class="outline-text-3" id="text-org12e7d9f">
<p>
A linguagem possui os seguintes tipos básicos:
</p>
<ul class="org-ul">
<li><code>bool</code> &#x2013; um booleano</li>
<li><code>char</code> &#x2013; um caractere</li>
<li><code>int</code> &#x2013; um inteiro de 32 bits</li>
<li><code>float</code> &#x2013; um número de ponto flutuante de 64 bits</li>
<li>Sequências: &#x2013; Um tipo válido, seguido de <code>[]</code>:
<ul class="org-ul">
<li><code>int[]</code> &#x2013; sequência de ints</li>
<li><code>char[]</code> &#x2013; sequência de caracteres (i.e. string)</li>
<li><code>float[][]</code> &#x2013; sequência de sequência de floats (array bi-dimensional)</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org69161ec" class="outline-3">
<h3 id="org69161ec">Literais</h3>
<div class="outline-text-3" id="text-org69161ec">
<p>
A linguagem suporta os seguintes literais em seu código:
</p>
<ul class="org-ul">
<li><b>Literais Booleanos</b>:
<ul class="org-ul">
<li><code>true</code> e <code>false</code></li>
</ul></li>
<li><b>Literais Inteiros</b>:
<ul class="org-ul">
<li><i>Números decimais</i> com ou sem sinal (<code>123</code>, <code>-123</code>, <code>+123</code>)</li>
<li><i>Números Hexadecimais</i> positivos (<code>0x123</code>, <code>0xaf123</code>)</li>
<li><i>Números Binários</i> positivos (<code>10b</code>, <code>11101b</code>)</li>
</ul></li>
<li><b>Literais Reais</b>
<ul class="org-ul">
<li><i>Números com ponto decimal</i> (<code>123.01</code>, <code>-123.09</code>)</li>
<li><i>Números com expoente</i> (<code>123.01E11</code>, <code>123.09E-10</code>)</li>
</ul></li>
<li><b>Literais String</b>
<ul class="org-ul">
<li>Sequências de caracteres entre aspas duplas (<code>"abc"</code>)</li>
<li>Caracteres com escape entre aspas ("abc\noutralinha" )</li>
</ul></li>
<li><b>Literal Char</b>:
<ul class="org-ul">
<li>Um único caractere entre aspas simples (<code>'a'</code>)</li>
<li>Caracteres com escape entre aspas simples ('\\')</li>
</ul></li>
<li><b>Literal Expecial Nulo</b>
<ul class="org-ul">
<li>O literal <code>nil</code>, que representa uma sequência vazia.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgb3dba54" class="outline-3">
<h3 id="orgb3dba54">Expressões Booleanas</h3>
<div class="outline-text-3" id="text-orgb3dba54">
<p>
As seguintes expressões booleanas são aceitas na linguagem:
</p>
<ul class="org-ul">
<li>Resultado nulo ou não nulo: Se o resultado de uma expressão armazena um valor, então a expressão é <i>verdadeira</i>. Caso o resultado for <code>nil</code>, então a expressão será <i>falsa</i>.</li>
<li>Expressões entre parênteses</li>
<li>Expressões negadas &#x2013; Operador <code>!</code></li>
<li>Igualdade/Inigualdade: &#x2013; Operadores <code>==</code> e <code>!=</code></li>
<li>Operador Lógico <b>E</b> &#x2013; <code>&amp;&amp;</code></li>
<li>Operador Lógico <b>OU</b> &#x2013; <code>||</code></li>
</ul>

<p>
A precedência de operadores segue o padrão esperado para linguagens como <i>Java</i> e <i>C</i>: Negação, Igualdade/Inigualdade, E/OU lógico, com parênteses para alterar a ordem de avaliação.
</p>

<p>
Exemplos:
</p>
<div class="org-src-container">
<pre class="src src-sh">a || b

<span style="color: #3a81c3;">(</span><span style="color: #715ab1;">a</span> == b<span style="color: #3a81c3;">)</span> || c // parenteses desnecessario

<span style="color: #715ab1;">a</span> == <span style="color: #3a81c3;">(</span>b || c<span style="color: #3a81c3;">)</span> // parenteses necessario

<span style="color: #4e3163;">!</span><span style="color: #3a81c3;">(</span><span style="color: #715ab1;">c</span> == a<span style="color: #3a81c3;">)</span>

c // c como lista: &#233; uma lista n&#227;o-vazia?; c como tipo b&#225;sico: possui valor n&#227;o-zero?

<span style="color: #4e3163;">!</span>c // c como lista: &#233; vazia? ; c como tipo b&#225;sico: possui valor zero?

<span style="color: #4e3163;">!</span><span style="color: #3a81c3;">(</span>a || b<span style="color: #3a81c3;">)</span>

</pre>
</div>

<p>
Expressões booleanas podem ser utilizadas como condicional no comando <code>if</code>, mas também podem ter seu resultado "atribuído" a símbolos:
</p>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> =
<span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">a</span> = <span style="color: #2d9574;">"abc"</span> || nil,           // nil -&gt; false, char<span style="color: #3a81c3;">[]</span> -&gt; bool
    <span style="color: #715ab1;">b</span> = <span style="color: #2d9574;">"abc"</span> || <span style="color: #4e3163;">1,</span>             // int -&gt; bool, char<span style="color: #3a81c3;">[]</span> -&gt; bool
    <span style="color: #715ab1;">c</span> = <span style="color: #2d9574;">'a'</span> || <span style="color: #4e3163;">9.5,</span>             // basic types -&gt; bool
    <span style="color: #715ab1;">a2</span> = <span style="color: #2d9574;">"abc"</span> &amp;&amp; nil,
    <span style="color: #715ab1;">b2</span> = <span style="color: #2d9574;">"abc"</span> &amp;&amp; <span style="color: #4e3163;">1,</span>
    <span style="color: #715ab1;">c2</span> = <span style="color: #2d9574;">'a'</span> &amp;&amp; <span style="color: #4e3163;">9.5,</span>
    <span style="color: #715ab1;">v2</span> = <span style="color: #4e3163;">1</span> + int true,           // coercao falha, mas cast funciona,
    <span style="color: #715ab1;">v3</span> = <span style="color: #3a81c3;">(</span>int <span style="color: #6c3163;">(</span><span style="color: #4e3163;">!</span>v2 &amp;&amp; c2<span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span> * <span style="color: #4e3163;">10</span>  // deve ser igual a <span style="color: #4e3163;">0</span>
<span style="color: #3a81c3; font-weight: bold;">in</span>
   <span style="color: #3a81c3;">{</span> a &amp;&amp; b &amp;&amp; c,      // Sempre verdadeiro
     a2 &amp;&amp; b2 &amp;&amp; c2,   // Sempre falso
     v2,               // deve ser <span style="color: #4e3163;">2,</span>
     v3                // deve ser <span style="color: #4e3163;">10</span>
   <span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2158563" class="outline-3">
<h3 id="org2158563">Operadores Relacionais</h3>
<div class="outline-text-3" id="text-org2158563">
<p>
Os operadores relacionais comparam dois <b>tipos básicos</b> e retornam um valor booleano
</p>

<ul class="org-ul">
<li>Menor e Menor ou Igual: <code>&lt;</code> , <code>&lt;=</code></li>
<li>Maior e Maior ou Igual: <code>&gt;</code>, <code>&gt;=</code></li>
<li>Igual: <code>==</code></li>
<li>Diferente: <code>!=</code></li>
</ul>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #715ab1;">a</span> == <span style="color: #4e3163;">1</span>

x &lt;= <span style="color: #4e3163;">2</span> + <span style="color: #4e3163;">1</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5afe404" class="outline-3">
<h3 id="org5afe404">Expressões Aritméticas</h3>
<div class="outline-text-3" id="text-org5afe404">
<p>
As expressões aritméticas são as operações aritméticas básicas de linguagens de programação:
</p>
<ul class="org-ul">
<li>Soma: <code>+</code></li>
<li>Subtração: <code>-</code></li>
<li>Multiplicação: <code>*</code></li>
<li>Divisão: <code>/</code></li>
<li>Resto da Divisão: <code>%</code></li>
</ul>

<p>
A precedência de operadores garante que Multiplicação, Divisão e Módulo possuem prioridade sobre Soma e Subtração.
</p>

<p>
Exemplos:
</p>
<div class="org-src-container">
<pre class="src src-sh">a + <span style="color: #4e3163;">2</span>

a * b * c / d

<span style="color: #3a81c3;">(</span>a + b<span style="color: #3a81c3;">)</span> * <span style="color: #4e3163;">2</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org62893d5" class="outline-3">
<h3 id="org62893d5">Condicional <i>if</i></h3>
<div class="outline-text-3" id="text-org62893d5">
<p>
A estrutura <i>if</i> da linguagem tem a seguinte forma:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3; font-weight: bold;">if</span> boolexpr
<span style="color: #3a81c3; font-weight: bold;">then</span> expr1
<span style="color: #3a81c3; font-weight: bold;">else</span> expr2
</pre>
</div>

<p>
O comportamento é como esperado: Se a espressão <i>boolexpr</i> for <i>verdadeira</i>, é executado a primeira expresão; caso contrário, a segunda.
</p>

<p>
Uma diferença do <i>if</i> da \(\mu\)mML para o <i>if</i> de linguagens imperativas é que ele é uma <i>expressão</i>: o <i>if</i> <b>retorna</b> o resultado da expressão avaliada. Ou seja, o código
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #715ab1;">x</span> == <span style="color: #4e3163;">1</span>
<span style="color: #3a81c3; font-weight: bold;">then</span> <span style="color: #4e3163;">10</span>
<span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #4e3163;">20</span>
</pre>
</div>

<p>
seria equivalente ao seguinte código em C:
</p>
<div class="org-src-container">
<pre class="src src-c"><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">if_eval_1</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">b</span>, <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">r1</span>, <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">r2</span><span style="color: #3a81c3;">)</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #6c3163;">(</span>b<span style="color: #6c3163;">)</span>
       <span style="color: #3a81c3; font-weight: bold;">return</span> r1;
    <span style="color: #3a81c3; font-weight: bold;">else</span>
       <span style="color: #3a81c3; font-weight: bold;">return</span> r2;
<span style="color: #3a81c3;">}</span>

...

r = if_eval_1<span style="color: #3a81c3;">(</span>x == <span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">10</span>, <span style="color: #4e3163;">20</span><span style="color: #3a81c3;">)</span>;
</pre>
</div>

<p>
Uma vez que o <i>if</i> é, ele próprio, uma <i>expressão</i>, ele pode ser utilizado dentro de expressões booleanas ou aritméticas. A expresão:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">(</span><span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #715ab1;">x</span> == <span style="color: #4e3163;">0</span> then <span style="color: #4e3163;">10</span> * x else <span style="color: #4e3163;">20</span> / x<span style="color: #3a81c3;">)</span> * <span style="color: #4e3163;">2</span>
</pre>
</div>

<p>
retorna \(10 * x * 2\) quando <code>x</code> é zero e \((20 / x) * 2\) quando x é diferente de zero.
</p>

<p>
Uma vez que a condição do if é uma <i>expressão</i>, podemos utilizar parênteses, igualdades, operadores lógicos, etc.
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #3a81c3;">(</span><span style="color: #715ab1;">x</span> == <span style="color: #4e3163;">0</span> || z<span style="color: #3a81c3;">)</span>
<span style="color: #3a81c3; font-weight: bold;">then if</span> z
     <span style="color: #3a81c3; font-weight: bold;">then</span> <span style="color: #3a81c3;">(</span>z * <span style="color: #4e3163;">10</span> + <span style="color: #4e3163;">2</span><span style="color: #3a81c3;">)</span>
     <span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #3a81c3;">(</span><span style="color: #4e3163;">50</span><span style="color: #3a81c3;">)</span>
<span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #4e3163;">10</span>
</pre>
</div>

<p>
<b>Observação</b>: Em \(\mu\)mML, o <i>else</i> <b>não é opcional</b>. Se não há resultado a ser retornado quando a condição for <i>falsa</i>, então deve-se retornar um valor padrão.
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #715ab1;">x</span> == <span style="color: #4e3163;">0</span>
<span style="color: #3a81c3; font-weight: bold;">then</span> x * <span style="color: #4e3163;">2</span>
<span style="color: #3a81c3; font-weight: bold;">else</span> -1
</pre>
</div>
</div>
</div>

<div id="outline-container-org3fd74e2" class="outline-3">
<h3 id="org3fd74e2">Declarações de Símbolos</h3>
<div class="outline-text-3" id="text-org3fd74e2">
<p>
A linguagem é \(\mu\)mML é uma linguagem funcional <i>pura</i>: uma vez que um valor é atribuído a um <i>símbolo</i>, este símbolo não pode ser alterado. Uma ``variável'' em {{mml}}, portanto, não é <i>variável</i> &#x2013; é como uma declaração de constante.
</p>

<p>
A declaração de símbolos é feita com a primitiva <i>let</i>:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">1</span> * <span style="color: #4e3163;">2</span> + y
<span style="color: #3a81c3; font-weight: bold;">in</span>
  x * <span style="color: #4e3163;">2</span> / <span style="color: #4e3163;">10</span>
</pre>
</div>

<p>
A primitiva <i>let</i> pode declarar vários símbolos. Para isso, deve-se utilizar vírgula:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">1,</span>
    <span style="color: #715ab1;">y</span> = x + <span style="color: #4e3163;">2,</span>
    <span style="color: #715ab1;">z</span> = x * y
<span style="color: #3a81c3; font-weight: bold;">in</span>
   y + <span style="color: #4e3163;">1</span> + z
</pre>
</div>

<p>
Um símbolo declarado <b>sempre</b> deve receber um valor resultante de uma <b>expressão</b>. Uma vez que um <i>if</i> é uma expressão, ele pode ser utilizado no lado direito da igualdade durante um <i>let</i>:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = if z &amp;&amp; t
        <span style="color: #3a81c3; font-weight: bold;">then</span> z * t             // ambos verdade, pode multiplicar
        <span style="color: #3a81c3; font-weight: bold;">else if</span> z then z * <span style="color: #4e3163;">10</span>  // apenas z
        <span style="color: #3a81c3; font-weight: bold;">else if</span> t then t * <span style="color: #4e3163;">10</span>  // apenas t
        <span style="color: #3a81c3; font-weight: bold;">else</span> -1                // nenhum
<span style="color: #3a81c3; font-weight: bold;">in</span>
   <span style="color: #3a81c3; font-weight: bold;">if</span> x
   <span style="color: #3a81c3; font-weight: bold;">then</span> x * <span style="color: #4e3163;">100</span>                // x nao recebeu nil
   <span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #4e3163;">0</span>                      // x recebeu <span style="color: #4e3163;">0</span>
</pre>
</div>

<p>
Assim como o <i>if</i>, o <i>let</i> é, também, uma <b>expressão</b> e, portanto, retorna valor:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #3a81c3;">(</span><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">100</span><span style="color: #3a81c3; font-weight: bold;"> in</span> x * x * x * x<span style="color: #3a81c3;">)</span> == <span style="color: #4e3163;">100</span>
<span style="color: #3a81c3; font-weight: bold;">then </span><span style="color: #3a81c3;">false</span>  // <span style="color: #4e3163;">100^4</span> eh <span style="color: #4e3163;">100</span> ?! nunca deveria retornar false
<span style="color: #3a81c3; font-weight: bold;">else </span><span style="color: #3a81c3;">true</span>   // sempre deveria retrnar true
</pre>
</div>

<p>
O <b>escopo</b> de qualquer símbolo está restrito à expressão associada ao <i>in</i> do <i>let</i>. O seguinte trecho de código deveria retornar \(38\):
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">10</span>
<span style="color: #3a81c3; font-weight: bold;">in</span> // na proxima expressao, x eh <span style="color: #4e3163;">10</span>
   x + <span style="color: #3a81c3;">(</span><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">20</span>
        <span style="color: #3a81c3; font-weight: bold;">in</span>  // na proxima expressao, x eh <span style="color: #4e3163;">20</span>
          x - <span style="color: #4e3163;">2</span> // Aqui x vale <span style="color: #4e3163;">20,</span> <span style="color: #4e3163;">20</span> - <span style="color: #4e3163;">2</span> = <span style="color: #4e3163;">18</span>
       <span style="color: #3a81c3;">)</span>
     + x // aqui x ainda eh <span style="color: #4e3163;">10</span>
</pre>
</div>

<p>
A seguinte expressão retorna 20:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">10</span>
<span style="color: #3a81c3; font-weight: bold;">in</span>
  <span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">20</span>
  <span style="color: #3a81c3; font-weight: bold;">in</span>
    x
</pre>
</div>

<p>
O seguinte programa sempre retorna 3:
</p>
<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> =
<span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">1</span>                   // <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">1</span>
<span style="color: #3a81c3; font-weight: bold;">in </span><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = x + <span style="color: #4e3163;">1</span>            // x<span style="color: #2d9574;">' = x + 1 = 2</span>
<span style="color: #2d9574;">   in let x = x + 1         // x'' = x'</span> + <span style="color: #4e3163;">1</span> = <span style="color: #4e3163;">2</span>
      <span style="color: #3a81c3; font-weight: bold;">in</span> x                  // retorna <span style="color: #4e3163;">3</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org51b2851" class="outline-3">
<h3 id="org51b2851">Chamadas de Função</h3>
<div class="outline-text-3" id="text-org51b2851">
<p>
Para invocar uma função em \(\mu\)mML, deve-se utilizar o nome da função seguido de seus parâmetros. O código a seguir chama a função <code>funct</code> com os parâmetros <code>a</code>, <code>b</code> e <code>c</code>.
</p>
<div class="org-src-container">
<pre class="src src-sh">funct a b c
</pre>
</div>

<p>
Parâmetros de uma função podem ser resultado de expressões. O seguinte código chama a função <code>funct</code> com os parâmetros \(x + 1\), \(x - 2\) e \(x * 2\):
</p>
<div class="org-src-container">
<pre class="src src-sh">funct x + <span style="color: #4e3163;">1</span> x - <span style="color: #4e3163;">2</span> x * <span style="color: #4e3163;">2</span>
</pre>
</div>

<p>
Uma vez que os parâmetros são expressões, pode-se utilizar parênteses para isolá-los no código:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #6c3163; font-weight: bold;">funct</span> <span style="color: #3a81c3;">(</span> x + <span style="color: #4e3163;">1</span> <span style="color: #3a81c3;">)</span> <span style="color: #3a81c3;">(</span> x - <span style="color: #4e3163;">2</span> <span style="color: #3a81c3;">)</span> <span style="color: #3a81c3;">(</span> x * <span style="color: #4e3163;">2</span> <span style="color: #3a81c3;">)</span>
</pre>
</div>

<p>
Esta sintáxe de chamada de função pode introduzir ambiguidades: O seguinte código poderia ser interpretado como a chamada da função <code>print_results</code> com 3 parâmetros ou como a chamada da função <code>print_results</code> com 2 parâmetros, um deles o resultado da função <code>funct</code> ou com apenas um resultado.
</p>
<div class="org-src-container">
<pre class="src src-sh">print_results funct <span style="color: #4e3163;">1</span> <span style="color: #4e3163;">2</span> //<span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">]</span> print_results <span style="color: #3a81c3;">(</span>funct<span style="color: #3a81c3;">)</span> <span style="color: #3a81c3;">(</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span> <span style="color: #3a81c3;">(</span><span style="color: #4e3163;">2</span><span style="color: #3a81c3;">)</span>
                        // ou
                        //<span style="color: #3a81c3;">[</span><span style="color: #4e3163;">2</span><span style="color: #3a81c3;">]</span> print_results <span style="color: #3a81c3;">(</span>funct <span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span>  <span style="color: #3a81c3;">(</span><span style="color: #4e3163;">2</span><span style="color: #3a81c3;">)</span>
                        // ou
                        //<span style="color: #3a81c3;">[</span><span style="color: #4e3163;">3</span><span style="color: #3a81c3;">]</span> print_results <span style="color: #3a81c3;">(</span>funct <span style="color: #4e3163;">1</span> <span style="color: #4e3163;">2</span><span style="color: #3a81c3;">)</span>
</pre>
</div>

<p>
Esta ambiguidade deve ser resolvida para o primeiro caso (i.e. print_results com 3 parâmetros). Para expressar qualquer outra alternativa, o programa deve incluir os parênteses adequadamente.
</p>

<p>
A sintaxe da chamada de função também fica ambígua no caso de funções que não esperam nenhum parâmetro. A função <code>read_int</code>, que lê um inteiro da entrada, não precisa de nenhum parâmetro. Nesse caso, deve-se utilizar o símbolo especial <code>_</code> (<i>underscore</i>) que indica ``nenhum parâmetro'':
</p>
<div class="org-src-container">
<pre class="src src-sh">read_int _
</pre>
</div>

<p>
A chamada de uma função também é uma <i>expressão</i>. Assim, podemos atribuir os resultados de uma função a símbolos e utilizar os resultados dentro de expressões:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = read_int _,
    <span style="color: #715ab1;">y</span> = funct x
<span style="color: #3a81c3; font-weight: bold;">in</span>
  print_results y + <span style="color: #3a81c3;">(</span>do_something x<span style="color: #3a81c3;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3; font-weight: bold;">if</span> funct <span style="color: #3a81c3;">(</span><span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #715ab1;">x</span> == <span style="color: #4e3163;">0</span> then <span style="color: #4e3163;">10</span> else <span style="color: #4e3163;">20</span><span style="color: #3a81c3;">)</span>
<span style="color: #3a81c3; font-weight: bold;">then</span> <span style="color: #4e3163;">10</span>
<span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #4e3163;">20</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc925846" class="outline-3">
<h3 id="orgc925846">Declaração de Funções</h3>
<div class="outline-text-3" id="text-orgc925846">
<p>
Uma função na linguagem \(\mu\)mML é declarada com a primitiva <code>def</code>:
</p>
<div class="org-src-container">
<pre class="src src-sh">def print_results r : <span style="color: #715ab1;">int</span> =
   <span style="color: #3a81c3;">print</span> <span style="color: #3a81c3;">(</span>concat <span style="color: #2d9574;">"Resultado: "</span> <span style="color: #6c3163;">(</span>str r<span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
</pre>
</div>

<p>
Os parâmetros de uma função devem sempre possuir tipos definidos após o símbolo <code>:</code> .
</p>

<p>
Pode-se declarar um cabeçalho para a função para definir claramente qual o tipo de retorno. A declaração do tipo de retorno, no entanto, é <i>opcional</i> &#x2013; o tipo de retorno de uma função deve ser <b>deduzido</b> a partir da expressão de retorno.
</p>
<div class="org-src-container">
<pre class="src src-sh">def print_results r -&gt; int
</pre>
</div>

<p>
A declaração de tipos de retorno, no entanto, é necessária para deduzir o tipo de funções <i>mutuamente recursivas</i>:
</p>
<div class="org-src-container">
<pre class="src src-sh">def f1 a : int, b : float -&gt; float
def f2 a : int, b : float -&gt; float

def f1 a : int, b : <span style="color: #715ab1;">float</span> =
    <span style="color: #3a81c3; font-weight: bold;">if</span> a != <span style="color: #4e3163;">0</span>
    <span style="color: #3a81c3; font-weight: bold;">then</span> f2 a
            b + b
    <span style="color: #3a81c3; font-weight: bold;">else</span> b

def f2 a : int, b : <span style="color: #715ab1;">float</span> =
    f1 <span style="color: #3a81c3;">(</span>a - <span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span> b
</pre>
</div>

<p>
Uma função não possui a palavra chave <b>returns</b>. O retorno é sempre o resultado de uma <b>expressão</b> &#x2013; e o tipo de retorno de uma função é definido pelo resultado da expressão.
</p>
<div class="org-src-container">
<pre class="src src-sh">// media <span style="color: #4e3163;">1</span> devolve a media de <span style="color: #4e3163;">3.</span> O tipo de retorno eh int
def media1 a : int,
           b : int,
           c : <span style="color: #715ab1;">int</span> =
    <span style="color: #3a81c3;">(</span>a + b + c<span style="color: #3a81c3;">)</span> / <span style="color: #4e3163;">3</span>

// resultado da divisao eh float, entao media2 devolve float
def media2 a : int,
           b : int,
           c : <span style="color: #715ab1;">int</span> =
    <span style="color: #3a81c3;">(</span>a + b + c<span style="color: #3a81c3;">)</span> / <span style="color: #4e3163;">3.0</span>

// express&#227;o booleana, resultado &#233; bool
def andPred a : bool, b : <span style="color: #715ab1;">bool</span> = a &amp;&amp; b
</pre>
</div>

<p>
O <i>corpo</i> de uma função é sempre uma expressão. Assim, pode-se utilizar <i>if</i> e <i>let</i> dentro de uma função:
</p>
<div class="org-src-container">
<pre class="src src-sh">def max2int a : int,
            b : <span style="color: #715ab1;">int</span> =
    <span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #3a81c3;">(</span>a &gt; b<span style="color: #3a81c3;">)</span>
    <span style="color: #3a81c3; font-weight: bold;">then</span> a
    <span style="color: #3a81c3; font-weight: bold;">else</span> b
</pre>
</div>

<p>
Toda função retorna algum valor. Uma função de nome <code>print</code>, por exemplo, pode retornar um valor inteiro indicando quantos símbolos foram colocados na tela.
</p>

<p>
Quando o valor de uma função não necessitar ser armazenado, pode-se, no <code>let</code>, utilizar o símbolo especial <code>_</code>:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = read_int _,
    <span style="color: #715ab1;">_</span> = print_int x + <span style="color: #4e3163;">1</span> // ignora o resultado de print
<span style="color: #3a81c3; font-weight: bold;">in</span>
  x * <span style="color: #4e3163;">10</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org55d374d" class="outline-3">
<h3 id="org55d374d">Funções Especiais</h3>
<div class="outline-text-3" id="text-org55d374d">
<p>
Algumas funções são consideradas especiais da linguagem e devem estar disponíveis para o usuário nativamente:
</p>
<ul class="org-ul">
<li><code>read_char _ -&gt; char</code> : Lê um caractere da entrada</li>
<li><code>read_int _ -&gt; int</code> : Lê um int da entrada</li>
<li><code>read_float _ -&gt; float</code> : Lê um float da entrada</li>
<li><code>read_string _ -&gt; char[]</code> : Lê uma string da entrada</li>
<li><code>print a : T -&gt; int</code> : Coloca na tela o valor de <code>a</code>. Aceita qualquer tipo primitivo (<code>char</code>, <code>int</code>, <code>float</code>) e strings (<code>char[]</code>)</li>
<li><code>str a : T -&gt; char[]</code> : Deve funcionar para um tipo T <code>int</code>, <code>char</code>, <code>float</code> e mesmo <code>char[]</code> . Converte o valor a para uma representação em string.</li>
<li><code>nth s : T[], i : int -&gt; T</code> : Recebe como parâmetro uma posição <code>i</code> e uma sequência <code>s</code>, retorna a <code>i</code>-ésima posição do vetor</li>
<li><code>let_nth s : T[], i : int, val : T -&gt; T[]</code> : Recebe como parâmetro uma sequência <code>s</code>, uma posição <code>i</code> e um valor <code>val</code>. Retorna uma nova sequência onde a posição <code>i</code> foi alterada para <code>val</code>.</li>
<li><p>
<code>length v : T[] -&gt; int</code> : retorna a quantidade de elementos de uma sequência.
</p>

<p>
<b>Obs.:</b> <code>length nil</code> sempre retorna 0.
</p></li>
</ul>
</div>
</div>

<div id="outline-container-org61da5fc" class="outline-3">
<h3 id="org61da5fc">Tipos Sequência</h3>
<div class="outline-text-3" id="text-org61da5fc">
<p>
Um tipo sequência em \(\mu\)mML é equivalente a um vetor ou uma lista em outras linguagens. Toda sequência possui tamanho definido. Uma função especial chamada <code>length</code> é responsável por indicar quantos elementos existem na sequência.
</p>

<p>
Uma sequência é criada utilizando o operador <code>[]</code>:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">s1</span> = <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">]</span>,            // sequencia de <span style="color: #4e3163;">1</span> elemento
    <span style="color: #715ab1;">s2</span> = <span style="color: #3a81c3;">[</span> read_int _ <span style="color: #3a81c3;">]</span>, // <span style="color: #4e3163;">1</span> elemento, lido da entrada
    <span style="color: #715ab1;">s3</span> = nil             // lista vazia
<span style="color: #3a81c3; font-weight: bold;">in</span> <span style="color: #3a81c3;">(</span>length s1<span style="color: #3a81c3;">)</span> +         // retorna <span style="color: #4e3163;">1</span> +
   <span style="color: #3a81c3;">(</span>length s2<span style="color: #3a81c3;">)</span> +         //            <span style="color: #4e3163;">1</span> +
   <span style="color: #3a81c3;">(</span>length s3<span style="color: #3a81c3;">)</span>           //                <span style="color: #4e3163;">0</span>
</pre>
</div>

<p>
Sequências podem ser concatenadas utilizando o operador <code>::</code>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">s1</span> = <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">]</span>,
    <span style="color: #715ab1;">s2</span> = <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">2</span><span style="color: #3a81c3;">]</span>,
    <span style="color: #715ab1;">s3</span> = <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">3</span><span style="color: #3a81c3;">]</span>,
    <span style="color: #715ab1;">s4</span> = nil,
    <span style="color: #715ab1;">c1</span> = s1 :: s2,   // <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1,</span> <span style="color: #4e3163;">2</span><span style="color: #3a81c3;">]</span>
    <span style="color: #715ab1;">c2</span> = s3 :: s4,   // <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">3</span><span style="color: #3a81c3;">]</span> :: <span style="color: #715ab1;">nil</span> = <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">3</span><span style="color: #3a81c3;">]</span>
    <span style="color: #715ab1;">c3</span> = c1 :: c2    // <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1,</span> <span style="color: #4e3163;">2</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">3</span><span style="color: #3a81c3;">]</span> = <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1,</span> <span style="color: #4e3163;">2,</span> <span style="color: #4e3163;">3</span><span style="color: #3a81c3;">]</span>
<span style="color: #3a81c3; font-weight: bold;">in</span>
   length c3 // retorna <span style="color: #4e3163;">3</span>
</pre>
</div>

<p>
Uma sequência sempre pode ser quebrada em um <i>início</i>, seguido do <i>resto</i> da lista. A sequência [1, 2, 3] pode ser considerada como o início \(1\), seguido da lista [2, 3]. Uma expressão <i>let</i> permite quebrar a lista em seu início e seu resto com o operador <code>::</code>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">seq</span> = <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">2</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">3</span><span style="color: #3a81c3;">]</span>,
    h::<span style="color: #715ab1;">rest</span> = seq // quebra seq em um inicio chamado h
                  // e uma continuacao chamada rest
<span style="color: #3a81c3; font-weight: bold;">in</span>
   <span style="color: #715ab1;">h</span> == <span style="color: #4e3163;">1</span> &amp;&amp; <span style="color: #3a81c3;">(</span>length rest<span style="color: #3a81c3;">)</span> == <span style="color: #4e3163;">2</span> // sempre devolve true
</pre>
</div>

<p>
Uma lista de de um ou menos elementos sempre produzirá um <i>resto</i> <b>nulo</b>. A função abaixo utiliza isso para calcular o tamanho de uma sequência de inteiros:
</p>
<div class="org-src-container">
<pre class="src src-sh">def len_int_seq__ count : int, s : int<span style="color: #3a81c3;">[]</span> =
   <span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #4e3163;">!</span>s       // ! <span style="color: #3a81c3;">(</span> length s &gt; <span style="color: #4e3163;">0</span> <span style="color: #3a81c3;">)</span>
   <span style="color: #3a81c3; font-weight: bold;">then</span> count // nada mais para contar
   <span style="color: #3a81c3; font-weight: bold;">else </span><span style="color: #3a81c3;">let</span> h::<span style="color: #715ab1;">t</span> = s
        <span style="color: #3a81c3; font-weight: bold;">in</span>
          len_int_seq__ <span style="color: #3a81c3;">(</span>count + <span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span> t

def len_int_seq s : int<span style="color: #3a81c3;">[]</span> =
    len_int_seq__ <span style="color: #4e3163;">0</span> s
</pre>
</div>

<p>
O seguinte código retorna uma lista com todos os elementos da sequencia maiores que 10:
</p>
<div class="org-src-container">
<pre class="src src-sh">def filter_gt_10__ ret : <span style="color: #715ab1;">int</span><span style="color: #3a81c3;">[]</span>, s : int <span style="color: #3a81c3;">[]</span> =
    <span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #4e3163;">!</span>s
    <span style="color: #3a81c3; font-weight: bold;">then</span> ret                                   // nada mais, retorna ret
    <span style="color: #3a81c3; font-weight: bold;">else </span><span style="color: #3a81c3;">let</span> h::<span style="color: #715ab1;">t</span> = s                          // quebra em inicio e resto
         <span style="color: #3a81c3; font-weight: bold;">in</span>
           <span style="color: #3a81c3; font-weight: bold;">if</span> h &gt; <span style="color: #4e3163;">10</span>                           // maior que <span style="color: #4e3163;">10</span>?
           <span style="color: #3a81c3; font-weight: bold;">then</span> filter_gt_10__ <span style="color: #3a81c3;">(</span>ret :: <span style="color: #6c3163;">[</span>h<span style="color: #6c3163;">]</span> <span style="color: #3a81c3;">)</span> t // chama recursivo, incluindo o
                                               //          inicio no resultado
           <span style="color: #3a81c3; font-weight: bold;">else</span> filter_gt_10__ ret t           // chama recursivo, ignora o inicio

def filter_gt_10 s : int<span style="color: #3a81c3;">[]</span> =
   filter_gt_10__ nil s

def <span style="color: #715ab1;">main</span> = filter_gt_10 <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">11</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">5</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">20</span><span style="color: #3a81c3;">]</span>
</pre>
</div>

<p>
<b>Observação</b>: Uma <i>string</i> na linguagem \(\mu\)mML é uma sequência de caracteres. Por exemplo, a seguinte função possui tipo de retorno <code class="src src-sh">char<span style="color: #3a81c3;">[]</span></code> :
</p>
<div class="org-src-container">
<pre class="src src-sh">def stringConstante n : <span style="color: #715ab1;">int</span> =
   <span style="color: #2d9574;">"string"</span>
</pre>
</div>

<p>
O mesmo vale para as operações de desempacotamento de lista, concatenação e criação:
</p>
<div class="org-src-container">
<pre class="src src-sh">def retString n : <span style="color: #715ab1;">int</span> =
  <span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">a</span> = <span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'a'</span><span style="color: #3a81c3;">]</span>,     // a eh tipo char<span style="color: #3a81c3;">[]</span>
      <span style="color: #715ab1;">b</span> = <span style="color: #2d9574;">"bbb"</span>,     // b eh tipo char<span style="color: #3a81c3;">[]</span>
      c::<span style="color: #715ab1;">d2</span> = <span style="color: #2d9574;">"cdd"</span>  // c eh tipo char, d2 eh tipo char<span style="color: #3a81c3;">[]</span>
  <span style="color: #3a81c3; font-weight: bold;">in</span>
    a :: b :: <span style="color: #3a81c3;">[</span>c<span style="color: #3a81c3;">]</span> :: d2 // retorna <span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'a'</span>, <span style="color: #2d9574;">'b'</span>, <span style="color: #2d9574;">'b'</span>, <span style="color: #2d9574;">'b'</span>, <span style="color: #2d9574;">'c'</span>, <span style="color: #2d9574;">'d'</span>, <span style="color: #2d9574;">'d'</span><span style="color: #3a81c3;">]</span>
                        // ou <span style="color: #2d9574;">"abbbcdd"</span>

def <span style="color: #715ab1;">main</span> = retString <span style="color: #4e3163;">1</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org11ba23e" class="outline-3">
<h3 id="org11ba23e">Conversão entre Tipos</h3>
<div class="outline-text-3" id="text-org11ba23e">
<p>
Quando for necessário converter um tipo primitivo para outro tipo primitivo, devemos usar uma operação de <i>cast</i>. Em \(\mu\)mML, um cast funciona como uma chamada de função cujo nome é o tipo destino. <code class="src src-sh">int <span style="color: #4e3163;">0.2</span></code> converte para inteiro o valor em ponto flutuante 0.2 .
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">y</span> = <span style="color: #4e3163;">2.2,</span>
    <span style="color: #715ab1;">x</span> = int y // <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">2</span>
<span style="color: #3a81c3; font-weight: bold;">in</span>
   x * <span style="color: #4e3163;">10</span>
</pre>
</div>

<p>
A conversão de tipos pode ser útil quando queremos forçar um retorno de função para um tipo específico:
</p>
<div class="org-src-container">
<pre class="src src-sh">def avg2 a : int, b : int, round : <span style="color: #715ab1;">bool</span> =
   <span style="color: #3a81c3; font-weight: bold;">if</span> round
   <span style="color: #3a81c3; font-weight: bold;">then</span>
      float <span style="color: #3a81c3;">(</span><span style="color: #6c3163;">(</span>a + b<span style="color: #6c3163;">)</span> / <span style="color: #4e3163;">2</span><span style="color: #3a81c3;">)</span> // calcula <span style="color: #3a81c3;">(</span>a+b<span style="color: #3a81c3;">)</span>/2, que eh int, mas devolve como float
   <span style="color: #3a81c3; font-weight: bold;">else</span>
      <span style="color: #3a81c3;">(</span>a + b<span style="color: #3a81c3;">)</span> / <span style="color: #4e3163;">2.0</span>       // calcula <span style="color: #3a81c3;">(</span>a+b<span style="color: #3a81c3;">)</span>/2.0, float
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">def sum__ res : int , seq : int<span style="color: #3a81c3;">[]</span> =
    <span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #4e3163;">!</span>seq
    <span style="color: #3a81c3; font-weight: bold;">then</span> res
    <span style="color: #3a81c3; font-weight: bold;">else </span><span style="color: #3a81c3;">let</span> h::<span style="color: #715ab1;">t</span> = seq
         <span style="color: #3a81c3; font-weight: bold;">in</span> sum__ <span style="color: #3a81c3;">(</span>res + h<span style="color: #3a81c3;">)</span> t

def sum seq : int <span style="color: #3a81c3;">[]</span> =
    sum__ <span style="color: #4e3163;">0</span> seq

def avg_seq seq : int<span style="color: #3a81c3;">[]</span> =
   <span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">n</span> = length seq, // int
       <span style="color: #715ab1;">s</span> = sum seq     // int
   <span style="color: #3a81c3; font-weight: bold;">in</span>
      s / <span style="color: #3a81c3;">(</span>float n<span style="color: #3a81c3;">)</span> // devolve uma soma inteira
                    // dividida por um float
                    // -&gt; retorna float

def <span style="color: #715ab1;">main</span> = avg_seq <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">2</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">3</span><span style="color: #3a81c3;">]</span>
</pre>
</div>

<p>
As seguintes conversões de tipos são aceitas na linguagem \(\mu\)mML:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Tipo Origem</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Tipo Destino</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Obs</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Bool</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Char</td>
<td class="org-left">&checkmark;</td>
<td class="org-left">0 se falso, 1 se verdadeiro</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Bool</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Int</td>
<td class="org-left">&checkmark;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Bool</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Float</td>
<td class="org-left">&checkmark;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Char</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Int</td>
<td class="org-left">&checkmark;</td>
<td class="org-left">Devolve o número da tabela ASCII correspondente ao caractere</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Char</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Float</td>
<td class="org-left">&checkmark;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Inteiro</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Float</td>
<td class="org-left">&checkmark;</td>
<td class="org-left">Número em ponto flutuante com 0s depois da vírgula (1 &rarr; 1.0)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Float</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Inteiro</td>
<td class="org-left">&checkmark;</td>
<td class="org-left">Número inteiro descartando a parte fracionária. Pode perder precisão (1.9 &rarr; 1). Compilador deve alertar (<i>Warning</i>)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Float</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Char</td>
<td class="org-left">&checkmark;</td>
<td class="org-left">Caractere, convertido da tabela ASCII a partir da parte inteira do número</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Int</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Char</td>
<td class="org-left">&checkmark;</td>
<td class="org-left">Devolve o caractere associado ao valor da tabela ASCII</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Sequência</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Booleano</td>
<td class="org-left">&checkmark;</td>
<td class="org-left"><i>true</i> se não-vazia. <i>false</i> caso contrário</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Qualquer</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Booleano</td>
<td class="org-left">&checkmark;</td>
<td class="org-left"><i>false</i> se zero; <i>true</i> caso contrário</td>
</tr>
</tbody>
</table>
<p>
<b>Obs.:</b> Casts não são definidos para tipos sequência, tuplas ou classes, apenas para tipos básicos.
</p>

<div class="org-src-container">
<pre class="src src-sh">// intToString__ <span style="color: #4e3163;">512</span> <span style="color: #4e3163;">10</span> <span style="color: #2d9574;">""</span> -&gt;
//     intToString__ <span style="color: #4e3163;">51</span> <span style="color: #4e3163;">10</span> <span style="color: #2d9574;">"2"</span> -&gt;
//         intToString__ <span style="color: #4e3163;">5</span> <span style="color: #4e3163;">10</span> <span style="color: #2d9574;">"12"</span> -&gt;
//           intToString__ <span style="color: #4e3163;">0</span> <span style="color: #4e3163;">10</span> <span style="color: #2d9574;">"512"</span> -&gt;
//             <span style="color: #2d9574;">"512"</span>

def intToString__ x : int,
                  b : int,
                  <span style="color: #3a81c3;">r</span> : char <span style="color: #3a81c3;">[]</span> =
  <span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">lastDigit</span> = x - <span style="color: #3a81c3;">(</span>x / b<span style="color: #3a81c3;">)</span> * b,        // x % b, <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">51,</span> <span style="color: #715ab1;">lastDigit</span> = <span style="color: #4e3163;">1</span>
      <span style="color: #715ab1;">rest</span> = x / b,                       //         <span style="color: #715ab1;">rest</span> = <span style="color: #4e3163;">5</span>
      <span style="color: #715ab1;">r1</span> = <span style="color: #3a81c3;">[</span> <span style="color: #2d9574;">'0'</span> + char lastDigit <span style="color: #3a81c3;">]</span> :: r  // <span style="color: #715ab1;">r1</span> = <span style="color: #2d9574;">"2"</span>, <span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'1'</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #2d9574;">'2'</span><span style="color: #3a81c3;">]</span> = <span style="color: #2d9574;">"12"</span>
  <span style="color: #3a81c3; font-weight: bold;">in</span>
    <span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #715ab1;">rest</span> == <span style="color: #4e3163;">0</span>
    <span style="color: #3a81c3; font-weight: bold;">then</span> r1
    <span style="color: #3a81c3; font-weight: bold;">else</span> intToString__ rest b r1

// funciona para base &lt; <span style="color: #4e3163;">10</span>
def intToStringBase x : int, b : <span style="color: #715ab1;">int</span> = intToString__ x b <span style="color: #2d9574;">""</span>

def intToString x : <span style="color: #715ab1;">int</span> = intToStringBase x <span style="color: #4e3163;">10</span>

def charToString c : <span style="color: #715ab1;">char</span> = <span style="color: #3a81c3;">[</span>c<span style="color: #3a81c3;">]</span>

def <span style="color: #715ab1;">main</span> =
<span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">s</span> = <span style="color: #2d9574;">"101010"</span>,
    <span style="color: #715ab1;">c</span> = <span style="color: #2d9574;">'a'</span>,
    <span style="color: #715ab1;">c_ascii</span> = int c, // <span style="color: #4e3163;">97</span>
    <span style="color: #715ab1;">c2</span> = char <span style="color: #4e3163;">98</span>     // <span style="color: #2d9574;">'b'</span>
<span style="color: #3a81c3; font-weight: bold;">in</span>
   <span style="color: #3a81c3;">(</span> intToString <span style="color: #4e3163;">101010</span> <span style="color: #3a81c3;">)</span> :: <span style="color: #3a81c3;">(</span>charToString  c2<span style="color: #3a81c3;">)</span> // <span style="color: #2d9574;">"101010"</span> :: <span style="color: #2d9574;">"b"</span> -&gt; <span style="color: #2d9574;">"101010b"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9b3801d" class="outline-3">
<h3 id="org9b3801d">Tipos Tupla</h3>
<div class="outline-text-3" id="text-org9b3801d">
<p>
Uma <i>tupla</i> é como um vetor que suporta tipos distintos em cada posição. Tuplas são úteis para retornar mais de um valor em uma função.
</p>
<div class="org-src-container">
<pre class="src src-sh">def doisRetornos x : <span style="color: #715ab1;">int</span> = <span style="color: #3a81c3;">{</span>x, x + <span style="color: #4e3163;">1</span><span style="color: #3a81c3;">}</span>
</pre>
</div>

<p>
Diferente de um tipo sequência, que pode conter de 0 a n valores, um tipo tupla possui tamanho fixo. O retorno da função acima, por exemplo, é uma tupla de tamanho 2.
</p>

<div class="org-src-container">
<pre class="src src-sh">def doisRetornos x : int -&gt; <span style="color: #3a81c3;">{</span>int, int<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9196a07" class="outline-3">
<h3 id="org9196a07">Tipos Definidos pelo Usuário</h3>
<div class="outline-text-3" id="text-org9196a07">
<p>
Um tipo definido pelo usuário é algo parecido com <i>structs</i> de C ou <i>classes</i> de C++/Java, etc.
</p>

<p>
A declaração de tipo de usuário é feita com a palavra-chave <code>class</code>:
</p>
<div class="org-src-container">
<pre class="src src-sh">class <span style="color: #715ab1;">MeuTipo</span> =
  campo1 : int,
  campo2 : <span style="color: #3a81c3;">{</span>char<span style="color: #6c3163;">[]</span>, int<span style="color: #3a81c3;">}</span>
  // , outros : campos
</pre>
</div>

<p>
Para construir uma "instância" de um tipo definido pelo usuário, deve-se usar a palavra chave <code>make</code> em uma expressão. É obrigatório fornecer valor para <b>todos os campos da instância</b>:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = make MeuTipo <span style="color: #3a81c3;">{</span><span style="color: #4e3163;">1,</span> <span style="color: #6c3163;">{</span><span style="color: #2d9574;">"string"</span>, length <span style="color: #2d9574;">"string"</span><span style="color: #6c3163;">}</span><span style="color: #3a81c3;">}</span>
<span style="color: #3a81c3; font-weight: bold;">in</span>
   // ...
</pre>
</div>

<p>
Pode-se, no entanto, criar uma função "construtora" para um tipo:
</p>
<div class="org-src-container">
<pre class="src src-sh">def construct_MeuTipo a : <span style="color: #715ab1;">int</span> =
  make MeuTipo<span style="color: #3a81c3;">{</span>a, <span style="color: #6c3163;">{</span><span style="color: #2d9574;">"default"</span>, length <span style="color: #2d9574;">"default"</span><span style="color: #6c3163;">}</span><span style="color: #3a81c3;">}</span>
</pre>
</div>

<p>
O acesso a campos de um tipo definido pelo usuário se faz com a palavra chave <code>get</code>:
</p>
<div class="org-src-container">
<pre class="src src-sh">def MeuTipo_campo2 x : <span style="color: #715ab1;">MeuTipo</span> =
    get campo2 x
</pre>
</div>

<p>
Não é possível <i>alterar</i> o conteúdo de campos em instâncias já criadas. No entanto, é possível criar uma nova instância de um tipo definido pelo usuário, alterando apenas um dos campos:
</p>
<div class="org-src-container">
<pre class="src src-sh">def MeuTipo_set_campo1 x : MeuTipo, val : <span style="color: #715ab1;">int</span> =
    <span style="color: #3a81c3;">set</span> campo1 x val           // constroi MeuTipo <span style="color: #3a81c3;">{</span><span style="color: #4e3163;">2,</span> <span style="color: #6c3163;">{</span><span style="color: #2d9574;">"string"</span>, <span style="color: #4e3163;">7</span><span style="color: #6c3163;">}</span><span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga938230" class="outline-3">
<h3 id="orga938230">Aritmética de Tipos na linguagem \(\mu\)mML</h3>
<div class="outline-text-3" id="text-orga938230">
<p>
Na linguagem \(\mu\)mML, tipos são definidos explicitamente
</p>
<ul class="org-ul">
<li>nos parâmetros de uma função</li>
<li>na declaração de tipo de retorno de uma função</li>
<li>na construção de tipos definidos pelo usuário.</li>
</ul>

<p>
Já os tipos de símbolos (equivalenes a variáveis) em \(\mu\)mML são sempre <i>derivados</i> da expressão, em função dos <i>tipos</i> nos parâmetros de uma função.
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = read_int _ // tipo de x eh derivado do retorno de read_int
<span style="color: #3a81c3; font-weight: bold;">in</span> // ...
</pre>
</div>

<p>
Torna-se necessário, portanto, <i>inferir</i>, a partir das operações básicas da linguagem e dos tipos dos operandos, quais os serão os tipos resultantes.
</p>

<p>
Na linguagem \(\mu\)mML, os operadores aritméticos devem respeitar a seguinte <i>aritmética de tipos</i>;
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>

<colgroup>
<col  class="org-left" />
</colgroup>

<colgroup>
<col  class="org-left" />
</colgroup>

<colgroup>
<col  class="org-left" />
</colgroup>

<colgroup>
<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Lado Esquerdo</th>
<th scope="col" class="org-left">(Operadores)</th>
<th scope="col" class="org-left">Lado Direito</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Char</td>
<td class="org-left">+ - / *</td>
<td class="org-left">Char</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Char</td>
</tr>

<tr>
<td class="org-left">Char</td>
<td class="org-left">+ - / *</td>
<td class="org-left">Inteiro</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Inteiro</td>
</tr>

<tr>
<td class="org-left">Inteiro</td>
<td class="org-left">+ - / *</td>
<td class="org-left">Char/Inteiro</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Inteiro</td>
</tr>

<tr>
<td class="org-left">Inteiro</td>
<td class="org-left">+ - / *</td>
<td class="org-left">Float</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Float</td>
</tr>

<tr>
<td class="org-left">Float</td>
<td class="org-left">+ - / *</td>
<td class="org-left">Inteiro/Float</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Float</td>
</tr>

<tr>
<td class="org-left">Char/Int/Float</td>
<td class="org-left">%</td>
<td class="org-left">Char/Int/Float</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Int</td>
</tr>
</tbody>
</table>

<p>
Para o operator <code>::</code> (concatenação), a operação só deve ser permitida com tipos base e dimensão <b>idênticas</b>:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>

<colgroup>
<col  class="org-left" />
</colgroup>

<colgroup>
<col  class="org-left" />
</colgroup>

<colgroup>
<col  class="org-left" />
</colgroup>

<colgroup>
<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Lado Esquerdo</th>
<th scope="col" class="org-left">(Operadores)</th>
<th scope="col" class="org-left">Lado Direito</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">int[]</td>
<td class="org-left">::</td>
<td class="org-left">int[]</td>
<td class="org-left">&rarr;</td>
<td class="org-left">int[]</td>
</tr>

<tr>
<td class="org-left">int[][]</td>
<td class="org-left">::</td>
<td class="org-left">int[][]</td>
<td class="org-left">&rarr;</td>
<td class="org-left">int[][]</td>
</tr>

<tr>
<td class="org-left">int[][][]</td>
<td class="org-left">::</td>
<td class="org-left">int[][][]</td>
<td class="org-left">&rarr;</td>
<td class="org-left">int[][][]</td>
</tr>

<tr>
<td class="org-left">char[]</td>
<td class="org-left">::</td>
<td class="org-left">char[]</td>
<td class="org-left">&rarr;</td>
<td class="org-left">char[]</td>
</tr>

<tr>
<td class="org-left">&#x2026;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#x2026;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#x2026;</td>
</tr>

<tr>
<td class="org-left">float[]</td>
<td class="org-left">::</td>
<td class="org-left">float[]</td>
<td class="org-left">&rarr;</td>
<td class="org-left">float[]</td>
</tr>

<tr>
<td class="org-left">int[]</td>
<td class="org-left">::</td>
<td class="org-left">float[]</td>
<td class="org-left">&rarr;</td>
<td class="org-left"><b>ERRO</b></td>
</tr>

<tr>
<td class="org-left">int[]</td>
<td class="org-left">::</td>
<td class="org-left">int[][]</td>
<td class="org-left">&rarr;</td>
<td class="org-left"><b>ERRO</b></td>
</tr>

<tr>
<td class="org-left">char[]</td>
<td class="org-left">::</td>
<td class="org-left">int[]</td>
<td class="org-left">&rarr;</td>
<td class="org-left"><b>ERRO</b></td>
</tr>
</tbody>
</table>

<p>
Todas as operações booleanas devolvem tipo <i>bool</i>. É importante lembrar que uma <i>expressão</i> que devolve <code>int</code> ou <code>float</code> pode ser considerada uma expressão booleana também &#x2013; sendo <i>falsa</i> se seu resultado é 0 e verdadeira, caso contrário. Já listas são convertidas para "verdadeiro" caso sejam não-vazias. <code>nil</code> é sempre avaliado como falso.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Lado Esquerdo</th>
<th scope="col" class="org-left">Operadores</th>
<th scope="col" class="org-left">Lado Direito</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Float/Int/Char/Sequência</td>
<td class="org-left">&amp;&amp;</td>
<td class="org-left">Float/Int/Char/Sequência</td>
<td class="org-left">&rarr;</td>
<td class="org-left">true, ambos guardam algum valor</td>
</tr>

<tr>
<td class="org-left">Float/Int/Char/Sequência</td>
<td class="org-left">&amp;&amp;</td>
<td class="org-left">Float/Int/Char/Sequência</td>
<td class="org-left">&rarr;</td>
<td class="org-left">false, algum deles é 0 ou <code>nil</code></td>
</tr>

<tr>
<td class="org-left">Float/Int/Char/Sequência</td>
<td class="org-left">&vert;&vert;</td>
<td class="org-left">Float/Int/Char/Sequência</td>
<td class="org-left">&rarr;</td>
<td class="org-left">true, algum dos lados guarda valor</td>
</tr>

<tr>
<td class="org-left">Float/Int/Char/Sequência</td>
<td class="org-left">&vert;&vert;</td>
<td class="org-left">Float/Int/Char/Sequência</td>
<td class="org-left">&rarr;</td>
<td class="org-left">false, ambos são 0 ou <code>nil</code></td>
</tr>

<tr>
<td class="org-left">Bool</td>
<td class="org-left">&amp;&amp;</td>
<td class="org-left">Bool</td>
<td class="org-left">&rarr;</td>
<td class="org-left">true, ambos são verdadeiros</td>
</tr>

<tr>
<td class="org-left">Bool</td>
<td class="org-left">&amp;&amp;</td>
<td class="org-left">Bool</td>
<td class="org-left">&rarr;</td>
<td class="org-left">false, um dos dois é falso</td>
</tr>

<tr>
<td class="org-left">Bool</td>
<td class="org-left">&vert;&vert;</td>
<td class="org-left">Bool</td>
<td class="org-left">&rarr;</td>
<td class="org-left">true, um dos dois é verdadeiro</td>
</tr>

<tr>
<td class="org-left">Bool</td>
<td class="org-left">&vert;&vert;</td>
<td class="org-left">Bool</td>
<td class="org-left">&rarr;</td>
<td class="org-left">false, um dos dois é falso</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">!</td>
<td class="org-left">Float/Int/Char/Sequência</td>
<td class="org-left">&rarr;</td>
<td class="org-left">true, lado direito não armazena valor</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">!</td>
<td class="org-left">Float/Int/Char/Sequência</td>
<td class="org-left">&rarr;</td>
<td class="org-left">false, lado direito armazena valor</td>
</tr>
</tbody>
</table>

<p>
Em uma expressão booleana, pode-se considerar que qualquer símbolo que armazene algo não-nulo é equivalente a <code>true</code>. Isso pode ser obtido através de <i>coearção de tipos</i>.
</p>
</div>

<div id="outline-container-org5547b48" class="outline-4">
<h4 id="org5547b48">Coerção de Tipos</h4>
<div class="outline-text-4" id="text-org5547b48">
<p>
Quando um tipo inteiro for passado como parâmetro para uma função que espera um <i>float</i>, este tipo pode ser convertido automaticamente para float, sem que o usuário do compilador solicite explicitamente o <i>cast</i>. Isso se chama <i>coerção de tipos</i>.
</p>

<p>
As seguintes coerções de tipos são válidas:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Char</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Integer</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Char</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Float</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Integer</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Char</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Integer</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Float</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Float</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Char</td>
<td class="org-left"><b>Deve gerar Warning</b></td>
</tr>

<tr>
<td class="org-left">Float</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Int</td>
<td class="org-left"><b>Deve gerar Warning</b></td>
</tr>

<tr>
<td class="org-left">Char</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Booleano</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Inteiro</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Booleano</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Float</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Booleano</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Sequência</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Booleano</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Booleano</td>
<td class="org-left">&rarr;</td>
<td class="org-left">Int, Char, Float</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
No caso da coerção para <i>booleano</i>, o <i>valor</i> obtido será equivalente a <i>false</i> caso o valor coagido for:
</p>
<ul class="org-ul">
<li>sequência vazia</li>
<li>constante <code>nil</code></li>
<li>Char, Inteiro, Float, com valor 0</li>
</ul>

<p>
O seguinte código deve, portanto, funcionar corretamente:
</p>
<div class="org-src-container">
<pre class="src src-sh">def media a : float, b : <span style="color: #715ab1;">float</span> =
    <span style="color: #3a81c3;">(</span>a + b<span style="color: #3a81c3;">)</span> / <span style="color: #4e3163;">2</span> // <span style="color: #3a81c3;">(</span>float + float<span style="color: #3a81c3;">)</span> / <span style="color: #715ab1;">int</span> = float / <span style="color: #715ab1;">int</span> = float

def <span style="color: #715ab1;">main</span> =
    <span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = read_int _,
        <span style="color: #715ab1;">y</span> = <span style="color: #2d9574;">'z'</span>
    <span style="color: #3a81c3; font-weight: bold;">in</span>
      media x y // x eh coagido para float , y eh coagido para float
</pre>
</div>

<p>
Uma coerção especial é a da constante nula <code>nil</code> para algum tipo sequência. A constante <code>nil</code> pode ser coagida para qualquer tipo sequência durante chamadas de função ou concatenação de sequências:
</p>
<div class="org-src-container">
<pre class="src src-sh">def concat a : <span style="color: #715ab1;">int</span><span style="color: #3a81c3;">[]</span> , b : int<span style="color: #3a81c3;">[]</span> = a :: b

def <span style="color: #715ab1;">main</span> =
    <span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">tmp</span> = <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">2</span><span style="color: #3a81c3;">]</span> :: nil  // Coage para int<span style="color: #3a81c3;">[]</span> por que
                                 // <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">]</span> :: <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">]</span> &#233; int
    <span style="color: #3a81c3; font-weight: bold;">in</span> concat tmp nil            // Coage para int<span style="color: #3a81c3;">[]</span> por que eh o
                                 // que o parametro <span style="color: #4e3163;">2</span> de concat espera
</pre>
</div>

<p>
A coerção de tipos também deve acontecer durante o "retorno" de if's, para que o retorno seja de algum tipo abrangente o sufuciente para armazenar tanto o retorno do lado <i>verdadeiro</i> quando o do lado <i>falso</i>:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = if a
        <span style="color: #3a81c3; font-weight: bold;">then</span> <span style="color: #4e3163;">5.2</span>   // float
        <span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #4e3163;">7</span>     // int
<span style="color: #3a81c3; font-weight: bold;">in</span> x          // &lt;-- x &#233; do tipo float
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">l</span> = if a
        <span style="color: #3a81c3; font-weight: bold;">then</span> <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">]</span>   // tipo int<span style="color: #3a81c3;">[]</span>
        <span style="color: #3a81c3; font-weight: bold;">else</span> nil   // tipo QUALQUER<span style="color: #3a81c3;">[]</span>
<span style="color: #3a81c3; font-weight: bold;">in</span> l       // &lt;-- l &#233; do tipo int<span style="color: #3a81c3;">[]</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgffdab7a" class="outline-3">
<h3 id="orgffdab7a">Um Programa em \(\mu\)mML</h3>
<div class="outline-text-3" id="text-orgffdab7a">
<p>
Um programa em \(\mu\)mML deve possuir uma função chamada <i>main</i> que não recebe nenhum parâmetro. A execução do programa se inicia por esta função:
</p>
<div class="org-src-container">
<pre class="src src-sh">def fib x : <span style="color: #715ab1;">int</span> =
    <span style="color: #3a81c3; font-weight: bold;">if</span> x &lt;= <span style="color: #4e3163;">0</span> then -1 // <span style="color: #4e3163;">0</span> nao eh valido
    <span style="color: #3a81c3; font-weight: bold;">else if</span> <span style="color: #715ab1;">x</span> == <span style="color: #4e3163;">1</span> then <span style="color: #4e3163;">1</span>
    <span style="color: #3a81c3; font-weight: bold;">else if</span> <span style="color: #715ab1;">x</span> == <span style="color: #4e3163;">2</span> then <span style="color: #4e3163;">1</span>
    <span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #3a81c3;">(</span>fib x - <span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span> + <span style="color: #3a81c3;">(</span>fib x - <span style="color: #4e3163;">2</span><span style="color: #3a81c3;">)</span>

def <span style="color: #715ab1;">main</span> =
    <span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">_</span> = print <span style="color: #2d9574;">"Digite um numero : "</span>,
        <span style="color: #715ab1;">n</span> = read_int _ ,
        <span style="color: #715ab1;">fib_n</span> = fib n
    <span style="color: #3a81c3; font-weight: bold;">in</span>
       <span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #4e3163;">!</span>fib_n
       <span style="color: #3a81c3; font-weight: bold;">then </span><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">_</span> = print <span style="color: #2d9574;">"Numero invalido para fibbonaci\n"</span><span style="color: #3a81c3; font-weight: bold;"> in</span> nil
       <span style="color: #3a81c3; font-weight: bold;">else </span><span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">_</span> = print <span style="color: #3a81c3;">(</span><span style="color: #2d9574;">"Fib de "</span> :: <span style="color: #6c3163;">(</span>str n<span style="color: #6c3163;">)</span> :: <span style="color: #2d9574;">" eh "</span> :: <span style="color: #6c3163;">(</span>str fib_n<span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span> <span style="color: #3a81c3; font-weight: bold;">in</span> nil
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org678d3ad" class="outline-2">
<h2 id="org678d3ad">Entradas e Árvores de Análise</h2>
<div class="outline-text-2" id="text-org678d3ad">
<ul class="org-ul">
<li><p>
Exemplo 1
</p>
<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> = <span style="color: #4e3163;">1</span>
</pre>
</div>


<div class="figure">
<p><img src="inputs/main.png" alt="main.png" />
</p>
</div></li>

<li><p>
Exemplo 2
</p>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> = <span style="color: #2d9574;">"uma \"\nstring com \\\"escapes\\\""</span>
</pre>
</div>


<div class="figure">
<p><img src="inputs/main2.png" alt="main2.png" />
</p>
</div></li>

<li><p>
Exemplo 3
</p>
<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> = <span style="color: #4e3163;">0xabfe</span>
</pre>
</div>


<div class="figure">
<p><img src="inputs/main3.png" alt="main3.png" />
</p>
</div></li>
</ul>


<div class="figure">
<p><img src="inputs/main3.png" alt="main3.png" />
</p>
</div>

<ul class="org-ul">
<li><p>
Exemplo 4: Funções
</p>
<div class="org-src-container">
<pre class="src src-sh">def f1 a : int, b : char -&gt; char
def f1 a : int, b : <span style="color: #715ab1;">char</span> = a + b

def <span style="color: #715ab1;">main</span> = f1 <span style="color: #4e3163;">1</span> <span style="color: #2d9574;">'a'</span>
</pre>
</div>


<div class="figure">
<p><img src="inputs/fun1.png" alt="fun1.png" />
</p>
</div></li>

<li><p>
Exemplo 5: if
</p>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> =
<span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = read_int _ ,
    <span style="color: #715ab1;">y</span> = read_char _
<span style="color: #3a81c3; font-weight: bold;">in</span>
    <span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #715ab1;">x</span> == y
    <span style="color: #3a81c3; font-weight: bold;">then</span> x - y
  <span style="color: #3a81c3; font-weight: bold;">else</span> x + y
</pre>
</div>


<div class="figure">
<p><img src="inputs/if.png" alt="if.png" />
</p>
</div></li>

<li><p>
Exemplo 6: let
</p>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> =
    <span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">1,</span>
        <span style="color: #715ab1;">y</span> = <span style="color: #4e3163;">2</span>
    <span style="color: #3a81c3; font-weight: bold;">in</span>
    x + y
</pre>
</div>


<div class="figure">
<p><img src="inputs/let.png" alt="let.png" />
</p>
</div></li>

<li><p>
Exemplo 7 : expressões booleanas
</p>
<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> =
  <span style="color: #3a81c3; font-weight: bold;">if</span> x + <span style="color: #4e3163;">1</span> == <span style="color: #4e3163;">2</span> &amp;&amp; x - <span style="color: #4e3163;">1</span> == <span style="color: #4e3163;">0</span> || y
  <span style="color: #3a81c3; font-weight: bold;">then</span> <span style="color: #2d9574;">"correto"</span>
  <span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #2d9574;">"wtf"</span>
</pre>
</div>


<div class="figure">
<p><img src="inputs/expr1.png" alt="expr1.png" />
</p>
</div></li>

<li><p>
Exemplo 8 : Chamada de Função
</p>

<div class="org-src-container">
<pre class="src src-sh">def funcao1 x : int, y : char, z : char<span style="color: #3a81c3;">[]</span> =
    z :: <span style="color: #2d9574;">"|"</span> :: <span style="color: #3a81c3;">(</span>str x + y<span style="color: #3a81c3;">)</span> :: <span style="color: #2d9574;">"|"</span> :: <span style="color: #3a81c3;">[</span>y<span style="color: #3a81c3;">]</span>

def <span style="color: #715ab1;">main</span> =
<span style="color: #3a81c3;">let</span> <span style="color: #715ab1;">a</span> = <span style="color: #4e3163;">1,</span>
    <span style="color: #715ab1;">b</span> = <span style="color: #4e3163;">2,</span>
    <span style="color: #715ab1;">c</span> = <span style="color: #2d9574;">'a'</span>,
    <span style="color: #715ab1;">y</span> = <span style="color: #2d9574;">"YPSILON"</span>
<span style="color: #3a81c3; font-weight: bold;">in</span>
    funcao1 a + b
        c + <span style="color: #4e3163;">2</span>
          y
</pre>
</div>


<div class="figure">
<p><img src="inputs/funcall1.png" alt="funcall1.png" />
</p>
</div></li>

<li><p>
Exemplo 9 : Chamada de Função 2
</p>
<div class="org-src-container">
<pre class="src src-sh">def funcao1 a : int, b : int, c : <span style="color: #715ab1;">int</span> = <span style="color: #3a81c3;">(</span>a + b<span style="color: #3a81c3;">)</span> / float <span style="color: #3a81c3;">(</span>c + a<span style="color: #3a81c3;">)</span>

def funcao2 a : int, b : <span style="color: #715ab1;">int</span> = a + b

def <span style="color: #715ab1;">main</span> = funcao1 <span style="color: #4e3163;">0</span> + <span style="color: #4e3163;">1</span> <span style="color: #4e3163;">2</span> <span style="color: #3a81c3;">(</span>funcao2 <span style="color: #4e3163;">1</span> <span style="color: #4e3163;">9</span><span style="color: #3a81c3;">)</span>
</pre>
</div>


<div class="figure">
<p><img src="inputs/funcall2.png" alt="funcall2.png" />
</p>
</div></li>

<li><p>
Exemplo 10 : Tuplas
</p>

<div class="org-src-container">
<pre class="src src-sh">def make_tuple_int x : int, y : int -&gt; <span style="color: #3a81c3;">{</span>int, int<span style="color: #3a81c3;">}</span>

class <span style="color: #715ab1;">A</span> =
s : <span style="color: #3a81c3;">{</span>int, int<span style="color: #3a81c3;">}</span>

def make_tuple_int x : int,
                  y : <span style="color: #715ab1;">int</span> =
    <span style="color: #3a81c3;">{</span>x + <span style="color: #4e3163;">1,</span>
    <span style="color: #3a81c3; font-weight: bold;">if</span> <span style="color: #715ab1;">x</span> == <span style="color: #4e3163;">0</span>
    <span style="color: #3a81c3; font-weight: bold;">then</span> y + <span style="color: #4e3163;">1</span>
    <span style="color: #3a81c3; font-weight: bold;">else</span> y + x
    <span style="color: #3a81c3;">}</span>

def <span style="color: #715ab1;">main</span> = make_tuple_int <span style="color: #4e3163;">1</span> <span style="color: #4e3163;">2</span>
</pre>
</div>


<div class="figure">
<p><img src="inputs/tuples.png" alt="tuples.png" />
</p>
</div></li>

<li><p>
Exemplo 11 : Tipos Definidos pelo Usuário
</p>

<div class="org-src-container">
<pre class="src src-sh">class <span style="color: #715ab1;">MeuTipo</span> =
  campo1 : int,
  campo4 : <span style="color: #3a81c3;">{</span>int, int<span style="color: #6c3163;">[]</span><span style="color: #3a81c3;">}[]</span>

def construct_MeuTipo a : int -&gt; MeuTipo

def construct_MeuTipo a : <span style="color: #715ab1;">int</span> =
  make MeuTipo <span style="color: #3a81c3;">{</span> a, <span style="color: #6c3163;">[</span> <span style="color: #2d9574;">{</span><span style="color: #4e3163;">0,</span> nil<span style="color: #2d9574;">}</span> <span style="color: #6c3163;">]</span> <span style="color: #3a81c3;">}</span>

def funct a : <span style="color: #715ab1;">MeuTipo</span> =
  get campo1 make MeuTipo <span style="color: #3a81c3;">{</span><span style="color: #4e3163;">1,</span> <span style="color: #6c3163;">[</span> <span style="color: #2d9574;">{</span><span style="color: #4e3163;">1,</span> <span style="color: #67b11d;">[</span><span style="color: #4e3163;">1</span><span style="color: #67b11d;">]</span><span style="color: #2d9574;">}</span> <span style="color: #6c3163;">]</span><span style="color: #3a81c3;">}</span>

def <span style="color: #715ab1;">main</span> = <span style="color: #4e3163;">0</span>
</pre>
</div>


<div class="figure">
<p><img src="inputs/custom_types.png" alt="custom_types.png" />
</p>
</div></li>

<li><p>
Exemplo 12 : Listas
</p>

<div class="org-src-container">
<pre class="src src-sh">def concat a : <span style="color: #715ab1;">int</span><span style="color: #3a81c3;">[]</span> , b : int<span style="color: #3a81c3;">[]</span> = a :: b

def <span style="color: #715ab1;">main</span> =
  concat <span style="color: #3a81c3;">(</span><span style="color: #6c3163;">[</span><span style="color: #4e3163;">1</span><span style="color: #6c3163;">]</span> :: <span style="color: #6c3163;">[</span><span style="color: #4e3163;">2</span><span style="color: #6c3163;">]</span> :: nil<span style="color: #3a81c3;">)</span> // Coage para int<span style="color: #3a81c3;">[]</span> por causa da concatenacao da esquerda
          nil                 // Coage para int<span style="color: #3a81c3;">[]</span> por que eh o
                              // que o parametro <span style="color: #4e3163;">2</span> de concat espera
</pre>
</div>


<div class="figure">
<p><img src="inputs/lists.png" alt="lists.png" />
</p>
</div></li>

<li><p>
Exemplo 16 : Tipos Sequência
</p>

<div class="org-src-container">
<pre class="src src-sh">def fun m2 : <span style="color: #715ab1;">int</span><span style="color: #3a81c3;">[][]</span> = <span style="color: #4e3163;">0</span>

def <span style="color: #715ab1;">main</span> = <span style="color: #4e3163;">1</span>
</pre>
</div>


<div class="figure">
<p><img src="inputs/seq1.png" alt="seq1.png" />
</p>
</div></li>

<li><p>
Exemplo 13 : Precedência com operadores booleanos e expressões
</p>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> = if <span style="color: #3a81c3;">(</span>length <span style="color: #2d9574;">"stringue"</span><span style="color: #3a81c3;">)</span> == get <span style="color: #4e3163;">0</span> <span style="color: #3a81c3;">{</span><span style="color: #4e3163;">0,</span> <span style="color: #4e3163;">1</span><span style="color: #3a81c3;">}</span> <span style="color: #3a81c3; font-weight: bold;">then</span> <span style="color: #4e3163;">0</span> else <span style="color: #4e3163;">1</span>
</pre>
</div>


<div class="figure">
<p><img src="inputs/precedence1.png" alt="precedence1.png" />
</p>
</div></li>

<li><p>
Exemplo 14 : Precedência de operadores booleanos
</p>

<div class="org-src-container">
<pre class="src src-sh">def f1 a : <span style="color: #715ab1;">int</span> = false &amp;&amp; a || <span style="color: #3a81c3;">true</span> &amp;&amp; a

def f2 a : <span style="color: #715ab1;">int</span> = false || a &amp;&amp; <span style="color: #3a81c3;">true</span> || a

def <span style="color: #715ab1;">main</span> = <span style="color: #4e3163;">0</span>
</pre>
</div>


<div class="figure">
<p><img src="inputs/precedence_bool.png" alt="precedence_bool.png" />
</p>
</div></li>

<li><p>
Exemplo 15 : Precedência de operadores booleanos
</p>

<div class="org-src-container">
<pre class="src src-sh">def <span style="color: #715ab1;">main</span> = true &amp;&amp; <span style="color: #3a81c3;">false</span> &amp;&amp; <span style="color: #3a81c3;">true</span>
</pre>
</div>


<div class="figure">
<p><img src="inputs/precedence_bool2.png" alt="precedence_bool2.png" />
</p>
</div></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Prof. Rodrigo Kassick</p>
<p class="date">Created: 2017-10-23 seg 15:46</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
